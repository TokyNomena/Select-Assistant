<Page x:Class="SelectionSet.Views.AboutPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:SelectionSet.Views"
      xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
      xmlns:mdhelpers="clr-namespace:MaterialDesignThemes.Wpf;assembly=MaterialDesignThemes.Wpf"
      xmlns:viewmodels="clr-namespace:SelectionSet.ViewModels"
      mc:Ignorable="d"
      d:DesignHeight="800" d:DesignWidth="500"
      MaxWidth="512"
      Title="À Propos">
  <d:DesignData.DataContext>
    <viewmodels:AboutViewModel/>
  </d:DesignData.DataContext>
  <Page.Resources>
    <ResourceDictionary>
      <ResourceDictionary.MergedDictionaries>
        <materialDesign:BundledTheme BaseTheme="Light" PrimaryColor="DeepPurple" SecondaryColor="Lime" />
        <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesign3.Defaults.xaml" />
      </ResourceDictionary.MergedDictionaries>
    </ResourceDictionary>
  </Page.Resources>
  <Grid>
    <ScrollViewer VerticalScrollBarVisibility="Auto">
      <StackPanel>
        <!-- HEADER avec dégradé -->
        <materialDesign:ColorZone Mode="PrimaryMid" Padding="20 30" CornerRadius="0">
          <StackPanel>
            <Grid>
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
              </Grid.ColumnDefinitions>
              <!-- Icône du plugin -->
              <Border Background="White" CornerRadius="12" Padding="12" 
                      Width="80" Height="80" VerticalAlignment="Center">
                <materialDesign:PackIcon Kind="SelectDrag" Width="56" Height="56"
                                         Foreground="{DynamicResource MaterialDesign.Brush.Primary}"/>
              </Border>
              <!-- Titre et version -->
              <StackPanel Grid.Column="1" Margin="20 0 0 0" VerticalAlignment="Center">
                <TextBlock Text="Select Assist" FontSize="28" FontWeight="Bold" 
                           Foreground="White"/>
                <TextBlock Text="Sélection Avancée pour Revit" FontSize="14" 
                           Foreground="White" Opacity="0.9" Margin="0 4 0 0"/>
                <TextBlock Text="{Binding VersionInfo}" FontSize="11" 
                           Foreground="White" Opacity="0.7" Margin="0 8 0 0"/>
              </StackPanel>
            </Grid>
          </StackPanel>
        </materialDesign:ColorZone>
        <!-- CONTENU PRINCIPAL -->
        <StackPanel Margin="24 20">
          <!-- Section: Pourquoi ce plugin -->
          <TextBlock Text="🎯 Pourquoi j'ai créé cet outil" FontSize="16" FontWeight="SemiBold" 
                     Margin="0 0 0 12"/>
          <TextBlock TextWrapping="Wrap" Margin="0 0 0 20" LineHeight="22">
            <Run Text="En tant que développeur BIM, j'ai constaté que les outils natifs de Revit limitaient la productivité des équipes."/>
            <Run Text=" " FontWeight="Bold" Foreground="{DynamicResource MaterialDesign.Brush.Primary}"/>
            <Run Text="Select Assist" FontWeight="Bold" Foreground="{DynamicResource MaterialDesign.Brush.Primary}"/>
            <Run Text=" comble ces lacunes avec des fonctionnalités avancées que les professionnels réclament."/></TextBlock>
          <!-- Fonctionnalités clés -->
          <materialDesign:Card Padding="16" Margin="0 0 0 20" mdhelpers:ElevationAssist.Elevation="Dp1">
            <StackPanel>
              <TextBlock Text="✨ Fonctionnalités" FontWeight="SemiBold" FontSize="14" Margin="0 0 0 12"/>
              <StackPanel Orientation="Horizontal" Margin="0 4">
                <materialDesign:PackIcon Kind="FilterOutline" VerticalAlignment="Center" 
                                         Width="18" Height="18" Foreground="#7B1FA2" Margin="0 0 8 0"/>
                <TextBlock Text="Filtrage par paramètres personnalisés" VerticalAlignment="Center"/>
              </StackPanel>
              <StackPanel Orientation="Horizontal" Margin="0 4">
                <materialDesign:PackIcon Kind="Home" VerticalAlignment="Center" 
                                         Width="18" Height="18" Foreground="#7B1FA2" Margin="0 0 8 0"/>
                <TextBlock Text="Sélection par pièces (3 méthodes de détection)" VerticalAlignment="Center"/>
              </StackPanel>
              <StackPanel Orientation="Horizontal" Margin="0 4">
                <materialDesign:PackIcon Kind="Layers" VerticalAlignment="Center" 
                                         Width="18" Height="18" Foreground="#7B1FA2" Margin="0 0 8 0"/>
                <TextBlock Text="Filtrage par niveaux et vues actives" VerticalAlignment="Center"/>
              </StackPanel>
              <StackPanel Orientation="Horizontal" Margin="0 4">
                <materialDesign:PackIcon Kind="VectorIntersection" VerticalAlignment="Center" 
                                         Width="18" Height="18" Foreground="#7B1FA2" Margin="0 0 8 0"/>
                <TextBlock Text="Détection géométrique avancée (collision 3D)" VerticalAlignment="Center"/>
              </StackPanel>
            </StackPanel>
          </materialDesign:Card>
          <!-- CTA: Besoin d'un plugin personnalisé -->
          <materialDesign:Card Background="{DynamicResource MaterialDesign.Brush.Primary}" 
                               Padding="20" Margin="0 0 0 20">
            <StackPanel>
              <TextBlock Text="💼 Besoin d'un plugin sur mesure ?" FontSize="16" FontWeight="SemiBold" 
                         Foreground="White" Margin="0 0 0 8"/>
              <TextBlock Text="Je développe des outils Revit personnalisés pour optimiser vos workflows BIM. Contactez-moi pour discuter de votre projet !" 
                         TextWrapping="Wrap" Foreground="White" Opacity="0.95" Margin="0 0 0 12" LineHeight="20"/>
              <UniformGrid Columns="2" Rows="1">
                <Button Style="{StaticResource MaterialDesignRaisedLightButton}" 
                        Margin="0 0 4 0"
                        Command="{Binding ContactEmailCommand}">
                  <StackPanel Orientation="Horizontal">
                    <materialDesign:PackIcon Kind="Email" Margin="0 0 6 0" VerticalAlignment="Center"/>
                    <TextBlock Text="Email"/>
                  </StackPanel>
                </Button>
                <Button Style="{StaticResource MaterialDesignRaisedLightButton}" 
                        Margin="4 0 0 0"
                        Command="{Binding ContactWhatsAppCommand}">
                  <StackPanel Orientation="Horizontal">
                    <materialDesign:PackIcon Kind="Whatsapp" Margin="0 0 6 0" VerticalAlignment="Center"/>
                    <TextBlock Text="WhatsApp"/>
                  </StackPanel>
                </Button>
              </UniformGrid>
            </StackPanel>
          </materialDesign:Card>
          <!-- Développeur -->
          <Separator Margin="0 0 0 16"/>
          <Grid Margin="0 0 0 16">
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="Auto"/>
              <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <!-- Avatar placeholder -->
            <Border Background="{DynamicResource MaterialDesign.Brush.Primary.Light}" 
                    CornerRadius="30" Width="60" Height="60" Margin="0 0 16 0">
              <TextBlock Text="TN" FontSize="24" FontWeight="Bold" 
                         Foreground="White" VerticalAlignment="Center" HorizontalAlignment="Center"/>
            </Border>
            <StackPanel Grid.Column="1" VerticalAlignment="Center">
              <TextBlock Text="TOKY NOMENA Andriamparany" FontWeight="SemiBold" FontSize="14"/>
              <TextBlock Text="Operateur et Développeur BIM" FontSize="12" 
                         Foreground="{DynamicResource MaterialDesign.Brush.Primary}" 
                         Margin="0 2 0 0"/>
              <StackPanel Orientation="Horizontal" Margin="0 2 0 0">
                <materialDesign:PackIcon Kind="Whatsapp" Margin="0 0 6 0" VerticalAlignment="Center"/>
                <TextBlock Text="{Binding WhatsappNumber}"/>
              </StackPanel>
              <StackPanel Orientation="Horizontal" Margin="0 2 0 0">
                <materialDesign:PackIcon Kind="Email" Margin="0 0 6 0" VerticalAlignment="Center"/>
                <TextBlock Text="tokynom13@gmail.com" Foreground="Blue"/>
              </StackPanel>

            </StackPanel>
          </Grid>
          <!-- Réseaux sociaux -->
          <TextBlock Text="Retrouvez-moi sur :" FontSize="12" Opacity="0.7" 
                     HorizontalAlignment="Center" Margin="0 0 0 8"/>
          <UniformGrid Columns="3" Rows="1" Margin="0 0 0 16">
            <Button Style="{StaticResource MaterialDesignIconButton}"
                    ToolTip="Profil LinkedIn"
                    Command="{Binding OpenLinkCommand}"
                    CommandParameter="{Binding LinkedInUrl}"
                    Margin="2">
              <materialDesign:PackIcon Kind="Linkedin" Width="24" Height="24"/>
            </Button>
            <Button Style="{StaticResource MaterialDesignIconButton}"
                    ToolTip="Email professionnel"
                    Command="{Binding ContactEmailCommand}"
                    Margin="2">
              <materialDesign:PackIcon Kind="Email" Width="24" Height="24"/>
            </Button>
            <Button Style="{StaticResource MaterialDesignIconButton}"
                    ToolTip="WhatsApp"
                    Command="{Binding ContactWhatsAppCommand}"
                    Margin="2">
              <materialDesign:PackIcon Kind="Whatsapp" Width="24" Height="24"/>
            </Button>
          </UniformGrid>
          <!-- Footer -->
          <Border Background="#F5F5F5" Padding="12" CornerRadius="4" Margin="0 8 0 0">
            <StackPanel>
              <TextBlock Text="📢 Plugin 100% gratuit et sans publicité" 
                         HorizontalAlignment="Center" FontSize="11" FontWeight="SemiBold" Margin="0 0 0 4"/>
              <TextBlock Text="Si cet outil vous fait gagner du temps, partagez-le avec vos collègues !" 
                         HorizontalAlignment="Center" FontSize="10" Opacity="0.7" TextWrapping="Wrap" TextAlignment="Center"/>
            </StackPanel>
          </Border>
        </StackPanel>
      </StackPanel>
    </ScrollViewer>
  </Grid>
</Page>